(this.webpackJsonpdiagraming=this.webpackJsonpdiagraming||[]).push([[0],{11:function(t,e,i){t.exports=i(18)},16:function(t,e,i){},17:function(t,e,i){},18:function(t,e,i){"use strict";i.r(e);var n=i(0),o=i.n(n),a=i(10),y=i.n(a),c=(i(16),i(2)),r=i(1),h=i(3),s=i(4),p=i(7),x=i(6),l=i(5),d=(i(17),i(9),function(t){Object(x.a)(i,t);var e=Object(l.a)(i);function i(){var t;Object(h.a)(this,i);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(t=e.call.apply(e,[this].concat(o))).dragging=!1,t.initialX=0,t.initialY=0,t.handleContextMenu=function(e){var i=t.props;(0,i.onContextMenu)(i.widget.id,e)},t.handleDragStart=function(e){t.dragging=!0,t.initialX=e.clientX,t.initialY=e.clientY},t.handleDragMove=function(e){if(t.dragging){var i=t.props,n=i.onDrag,o=i.widget;n(o.id,{x:e.clientX-t.initialX+o.x,y:e.clientY-t.initialY+o.y}),t.initialX=e.clientX,t.initialY=e.clientY}},t.handleDragEnd=function(e){t.dragging=!1},t}return Object(s.a)(i,[{key:"render",value:function(){var t=this.props,e=t.cursor,i=t.widget,n=i.x,a=i.y;return o.a.createElement("div",{onContextMenu:this.handleContextMenu,onMouseDown:this.handleDragStart,onMouseMove:this.handleDragMove,onMouseUp:this.handleDragEnd,style:{top:a,left:n,cursor:"crosshair"===e?"crosshair":"pointer"},className:"Sticky"})}}]),i}(o.a.PureComponent)),g=i(20),u=function(t){Object(x.a)(i,t);var e=Object(l.a)(i);function i(){return Object(h.a)(this,i),e.apply(this,arguments)}return Object(s.a)(i,[{key:"render",value:function(){return o.a.createElement("svg",{style:{position:"absolute",top:0,left:0,pointerEvents:"none"},xmlns:"http://www.w3.org/2000/svg",version:"1.1"},function(t){var e=t[0],i=t[1];if("right"===e.type||"left"===e.type){if(e.y===i.y){var n="M ".concat(e.x," ").concat(e.y," L ").concat(i.x," ").concat(i.y);return[o.a.createElement("path",{d:n,stroke:"red",strokeWidth:"2",fill:"none"}),o.a.createElement("circle",{cx:"".concat(i.x),cy:"".concat(i.y),r:"5",stroke:"#5cb85c",fill:"#5cb85c"})]}var a=(i.x-e.x)/2,y="M ".concat(e.x," ").concat(e.y," L ").concat(e.x+a," ").concat(e.y),c="M ".concat(e.x+a," ").concat(e.y," L ").concat(e.x+a," ").concat(i.y),r="M ".concat(e.x+a," ").concat(i.y," L ").concat(i.x," ").concat(i.y);return[o.a.createElement("path",{d:y,stroke:"red",strokeWidth:"2",fill:"none"}),o.a.createElement("path",{d:c,stroke:"red",strokeWidth:"2",fill:"none"}),o.a.createElement("path",{d:r,stroke:"red",strokeWidth:"2",fill:"none"}),o.a.createElement("circle",{cx:"".concat(i.x),cy:"".concat(i.y),r:"5",stroke:"#5cb85c",fill:"#5cb85c"})]}if(e.x===i.x){var h="M ".concat(e.x," ").concat(e.y," L ").concat(i.x," ").concat(i.y);return[o.a.createElement("path",{d:h,stroke:"red",strokeWidth:"2",fill:"none"}),o.a.createElement("circle",{cx:"".concat(i.x),cy:"".concat(i.y),r:"5",stroke:"#5cb85c",fill:"#5cb85c"})]}var s=(i.y-e.y)/2,p="M ".concat(e.x," ").concat(e.y," L ").concat(e.x," ").concat(e.y+s),x="M ".concat(e.x," ").concat(e.y+s," L ").concat(i.x," ").concat(e.y+s),l="M ".concat(i.x," ").concat(e.y+s," L ").concat(i.x," ").concat(i.y);return[o.a.createElement("path",{d:p,stroke:"red",strokeWidth:"2",fill:"none"}),o.a.createElement("path",{d:x,stroke:"red",strokeWidth:"2",fill:"none"}),o.a.createElement("path",{d:l,stroke:"red",strokeWidth:"2",fill:"none"}),o.a.createElement("circle",{cx:"".concat(i.x),cy:"".concat(i.y),r:"5",stroke:"#5cb85c",fill:"#5cb85c"})]}(this.props.widget.points))}}]),i}(o.a.PureComponent),w=function(t){Object(x.a)(i,t);var e=Object(l.a)(i);function i(t){var n;return Object(h.a)(this,i),(n=e.call(this,t)).ref=null,n.state={cursor:"auto",initialId:null,widgets:{}},n.handleContextMenu=function(t,e){e.preventDefault(),e.stopPropagation(),n.state.initialId?n.state.initialId!==t?n.setState((function(e){var i,n=e.widgets[e.initialId||""],o=e.widgets[t],a=[],y=Object(r.a)(Object(r.a)({},(i={start:e.initialId,end:t},{id:g.a(),height:0,width:0,type:"arrow",x:(i.x||0)-25,y:(i.y||0)-25,start:i.start||null,end:i.end||null,points:[]})),{},{points:a}),h=Math.abs((n.x-o.x)/(n.y-o.y));return n.x+n.width+10<o.x?h>1?(a[0]={x:n.x+n.width,y:n.y+n.height/2,type:"right"},a[1]={x:o.x,y:o.y+o.height/2,type:"left"}):n.y+n.height+10<o.y?(a[0]={x:n.x+n.width/2,y:n.y+n.height,type:"bottom"},a[1]={x:o.x+o.width/2,y:o.y,type:"top"}):(a[0]={x:n.x+n.width/2,y:n.y,type:"top"},a[1]={x:o.x+o.width/2,y:o.y+o.height,type:"bottom"}):h>1?(a[0]={x:n.x,y:n.y+n.height/2,type:"left"},a[1]={x:o.x+o.width,y:o.y+o.height/2,type:"right"}):n.y+n.height+10<o.y?(a[0]={x:n.x+n.width/2,y:n.y+n.height,type:"bottom"},a[1]={x:o.x+o.width/2,y:o.y,type:"top"}):(a[0]={x:n.x+n.width/2,y:n.y,type:"top"},a[1]={x:o.x+o.width/2,y:o.y+o.height,type:"bottom"}),Object(r.a)(Object(r.a)({},e),{},{cursor:"auto",initialId:null,widgets:Object(r.a)(Object(r.a)({},e.widgets),{},Object(c.a)({},y.id,y))})})):n.setState({initialId:null,cursor:"auto"}):n.setState({initialId:t,cursor:"crosshair"})},n.handleDoubleClick=function(t){var e,i=(e={x:t.clientX,y:t.clientY},{id:g.a(),height:100,width:100,type:"sticky",x:(e.x||0)-50,y:(e.y||0)-50});n.setState((function(t){return{widgets:Object(r.a)(Object(r.a)({},t.widgets),{},Object(c.a)({},i.id,i))}}))},n.handleDrag=function(t,e){n.setState((function(i){var n=Object(r.a)(Object(r.a)({},i.widgets[t]),e),o=Object.values(i.widgets).filter((function(e){return"arrow"===e.type&&(e.start===t||e.end===t)})).reduce((function(e,o){var a=o,y=i.widgets[a.start||""],h=a.points[0],s=a.points[1];if(a.end===t&&("right"===h.type&&(h.x+10<s.x?a.points[1]={type:"left",x:n.x,y:n.y+n.height/2}:h.y+10<s.y?(a.points[0]={type:"bottom",x:y.x+y.width/2,y:y.y+y.height},a.points[1]={type:"top",x:n.x+n.width/2,y:n.y}):(a.points[0]={type:"top",x:y.x+y.width/2,y:y.y},a.points[1]={type:"bottom",x:n.x+n.width/2,y:n.y+n.height})),"left"===h.type&&(h.x-10<s.x?a.points[1]={type:"right",x:n.x+n.width,y:n.y+n.height/2}:h.y+10<s.y?(a.points[0]={type:"bottom",x:y.x+y.width/2,y:y.y+y.height},a.points[1]={type:"top",x:n.x+n.width/2,y:n.y}):(a.points[0]={type:"top",x:y.x+y.width/2,y:y.y},a.points[1]={type:"bottom",x:n.x+n.width/2,y:n.y+n.height})),"bottom"===h.type&&(h.y+10<s.y?a.points[1]={type:"top",x:n.x+n.width/2,y:n.y}:h.x+10<s.x?(a.points[0]={type:"right",x:y.x+y.width,y:y.y+y.height/2},a.points[1]={type:"left",x:n.x,y:n.y+n.height/2}):(a.points[0]={type:"left",x:y.x,y:y.y+y.width/2},a.points[1]={type:"right",x:n.x+n.width,y:n.y+n.height/2})),"top"===h.type&&(h.y-10>s.y?a.points[1]={type:"bottom",x:n.x+n.width/2,y:n.y+n.height}:h.x+10<s.x?(a.points[0]={type:"right",x:y.x+y.width,y:y.y+y.height/2},a.points[1]={type:"left",x:n.x,y:n.y+n.height/2}):(a.points[0]={type:"left",x:y.x,y:y.y+y.width/2},a.points[1]={type:"right",x:n.x+n.width,y:n.y+n.height/2}))),a.start===t){var p=i.widgets[a.end||""];"right"===h.type&&(h.x+10<s.x?a.points[0]={type:"right",x:n.x+n.width,y:n.y+n.height/2}:h.y+10<s.y?(a.points[0]={type:"bottom",x:n.x+n.width/2,y:n.y+n.height},a.points[1]={type:"top",x:p.x+p.width/2,y:p.y}):(a.points[0]={type:"top",x:n.x+n.width/2,y:n.y},a.points[1]={type:"bottom",x:p.x+p.width/2,y:p.y+p.height})),"left"===h.type&&(h.x-10>s.x?a.points[0]={type:"left",x:n.x,y:n.y+n.height/2}:h.y+10<s.y?(a.points[0]={type:"bottom",x:n.x+n.width/2,y:n.y+n.height},a.points[1]={type:"top",x:p.x+p.width/2,y:p.y}):(a.points[0]={type:"top",x:n.x+n.width/2,y:n.y},a.points[1]={type:"bottom",x:p.x+p.width/2,y:p.y+p.height})),"bottom"===h.type&&(h.y+10<s.y?a.points[0]={type:"bottom",x:n.x+n.width/2,y:n.y+n.height}:h.x+10<s.x?(a.points[0]={type:"right",x:n.x+n.width,y:n.y+n.height/2},a.points[1]={type:"left",x:p.x,y:p.y+p.height/2}):(a.points[0]={type:"left",x:n.x,y:n.y+n.width/2},a.points[1]={type:"right",x:p.x+p.width,y:p.y+p.height/2})),"top"===h.type&&(h.y-10>s.y?a.points[0]={type:"top",x:n.x+n.width/2,y:n.y}:h.x+10<s.x?(a.points[0]={type:"right",x:n.x+n.width,y:n.y+n.height/2},a.points[1]={type:"left",x:p.x,y:p.y+p.height/2}):(a.points[0]={type:"left",x:n.x,y:n.y+n.width/2},a.points[1]={type:"right",x:p.x+p.width,y:p.y+p.height/2}))}return Object(r.a)(Object(r.a)({},e),{},Object(c.a)({},a.id,Object(r.a)({},a)))}),{});return{widgets:Object(r.a)(Object(r.a)({},i.widgets),{},Object(c.a)({},t,n),o)}}))},n.handleRef=function(t){return n.ref=t},window.sarlanga=Object(p.a)(n),n}return Object(s.a)(i,[{key:"render",value:function(){var t=this,e=this.state,i=e.cursor,n=e.widgets;return o.a.createElement("div",{style:{cursor:i},className:"App",onDoubleClick:this.handleDoubleClick,ref:this.handleRef},Object.values(n).map((function(e){return"sticky"===e.type?o.a.createElement(d,{cursor:i,onContextMenu:t.handleContextMenu,onDrag:t.handleDrag,widget:e,key:e.id}):"arrow"===e.type?o.a.createElement(u,{widget:e,key:e.id}):null})))}}]),i}(o.a.PureComponent);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));y.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},9:function(t,e,i){}},[[11,1,2]]]);
//# sourceMappingURL=main.fcbef36d.chunk.js.map