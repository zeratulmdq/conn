(this.webpackJsonpdiagraming=this.webpackJsonpdiagraming||[]).push([[0],[,,,,,,,,function(t,e,i){},,function(t,e,i){t.exports=i(17)},,,,,function(t,e,i){},function(t,e,i){},function(t,e,i){"use strict";i.r(e);var n=i(0),o=i.n(n),a=i(9),r=i.n(a),y=(i(15),i(2)),c=i(1),h=i(3),p=i(4),s=i(6),l=i(5),x=(i(16),i(8),function(t){Object(s.a)(i,t);var e=Object(l.a)(i);function i(){var t;Object(h.a)(this,i);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(t=e.call.apply(e,[this].concat(o))).dragging=!1,t.initialX=0,t.initialY=0,t.handleContextMenu=function(e){var i=t.props;(0,i.onContextMenu)(i.widget.id,e)},t.handleDragStart=function(e){var i=t.props;(0,i.onDragStart)(i.widget.id,e)},t}return Object(p.a)(i,[{key:"render",value:function(){var t=this.props,e=t.cursor,i=t.widget,n=i.x,a=i.y;return o.a.createElement("div",{onContextMenu:this.handleContextMenu,onMouseDown:this.handleDragStart,style:{top:a,left:n,cursor:"crosshair"===e?"crosshair":"pointer"},className:"Sticky"})}}]),i}(o.a.PureComponent)),d=i(19),g=function(t){return{id:d.a(),height:100,width:100,type:"sticky",x:(t.x||0)-50,y:(t.y||0)-50}},u=function(t){return{id:d.a(),height:0,width:0,type:"arrow",x:(t.x||0)-25,y:(t.y||0)-25,start:t.start||null,end:t.end||null,points:[]}},w=function(t){Object(s.a)(i,t);var e=Object(l.a)(i);function i(){return Object(h.a)(this,i),e.apply(this,arguments)}return Object(p.a)(i,[{key:"render",value:function(){return o.a.createElement("svg",{style:{position:"absolute",top:0,left:0,pointerEvents:"none"},xmlns:"http://www.w3.org/2000/svg",version:"1.1"},function(t){var e=t[0],i=t[1];if("right"===e.type||"left"===e.type){if(e.y===i.y){var n="M ".concat(e.x," ").concat(e.y," L ").concat(i.x," ").concat(i.y);return[o.a.createElement("path",{d:n,stroke:"red",strokeWidth:"2",fill:"none"}),o.a.createElement("circle",{cx:"".concat(i.x),cy:"".concat(i.y),r:"5",stroke:"#5cb85c",fill:"#5cb85c"})]}var a=(i.x-e.x)/2,r="M ".concat(e.x," ").concat(e.y," L ").concat(e.x+a," ").concat(e.y),y="M ".concat(e.x+a," ").concat(e.y," L ").concat(e.x+a," ").concat(i.y),c="M ".concat(e.x+a," ").concat(i.y," L ").concat(i.x," ").concat(i.y);return[o.a.createElement("path",{d:r,stroke:"red",strokeWidth:"2",fill:"none"}),o.a.createElement("path",{d:y,stroke:"red",strokeWidth:"2",fill:"none"}),o.a.createElement("path",{d:c,stroke:"red",strokeWidth:"2",fill:"none"}),o.a.createElement("circle",{cx:"".concat(i.x),cy:"".concat(i.y),r:"5",stroke:"#5cb85c",fill:"#5cb85c"})]}if(e.x===i.x){var h="M ".concat(e.x," ").concat(e.y," L ").concat(i.x," ").concat(i.y);return[o.a.createElement("path",{d:h,stroke:"red",strokeWidth:"2",fill:"none"}),o.a.createElement("circle",{cx:"".concat(i.x),cy:"".concat(i.y),r:"5",stroke:"#5cb85c",fill:"#5cb85c"})]}var p=(i.y-e.y)/2,s="M ".concat(e.x," ").concat(e.y," L ").concat(e.x," ").concat(e.y+p),l="M ".concat(e.x," ").concat(e.y+p," L ").concat(i.x," ").concat(e.y+p),x="M ".concat(i.x," ").concat(e.y+p," L ").concat(i.x," ").concat(i.y);return[o.a.createElement("path",{d:s,stroke:"red",strokeWidth:"2",fill:"none"}),o.a.createElement("path",{d:l,stroke:"red",strokeWidth:"2",fill:"none"}),o.a.createElement("path",{d:x,stroke:"red",strokeWidth:"2",fill:"none"}),o.a.createElement("circle",{cx:"".concat(i.x),cy:"".concat(i.y),r:"5",stroke:"#5cb85c",fill:"#5cb85c"})]}(this.props.widget.points))}}]),i}(o.a.PureComponent),f=function(t){Object(s.a)(i,t);var e=Object(l.a)(i);function i(){var t;Object(h.a)(this,i);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(t=e.call.apply(e,[this].concat(o))).ref=null,t.state={cursor:"auto",dragging:null,initialId:null,initialX:null,initialY:null,widgets:{}},t.handleContextMenu=function(e,i){i.preventDefault(),i.stopPropagation(),t.state.initialId?t.state.initialId!==e?t.setState((function(t){var i=t.widgets[t.initialId||""],n=t.widgets[e],o=[],a=Object(c.a)(Object(c.a)({},u({start:t.initialId,end:e})),{},{points:o}),r=Math.abs((i.x-n.x)/(i.y-n.y));return i.x+i.width+10<n.x?r>1?(o[0]={x:i.x+i.width,y:i.y+i.height/2,type:"right"},o[1]={x:n.x,y:n.y+n.height/2,type:"left"}):i.y+i.height+10<n.y?(o[0]={x:i.x+i.width/2,y:i.y+i.height,type:"bottom"},o[1]={x:n.x+n.width/2,y:n.y,type:"top"}):(o[0]={x:i.x+i.width/2,y:i.y,type:"top"},o[1]={x:n.x+n.width/2,y:n.y+n.height,type:"bottom"}):r>1?(o[0]={x:i.x,y:i.y+i.height/2,type:"left"},o[1]={x:n.x+n.width,y:n.y+n.height/2,type:"right"}):i.y+i.height+10<n.y?(o[0]={x:i.x+i.width/2,y:i.y+i.height,type:"bottom"},o[1]={x:n.x+n.width/2,y:n.y,type:"top"}):(o[0]={x:i.x+i.width/2,y:i.y,type:"top"},o[1]={x:n.x+n.width/2,y:n.y+n.height,type:"bottom"}),Object(c.a)(Object(c.a)({},t),{},{cursor:"auto",initialId:null,widgets:Object(c.a)(Object(c.a)({},t.widgets),{},Object(y.a)({},a.id,a))})})):t.setState({initialId:null,cursor:"auto"}):t.setState({initialId:e,cursor:"crosshair"})},t.handleDoubleClick=function(e){var i=g({x:e.clientX,y:e.clientY});t.setState((function(t){return{widgets:Object(c.a)(Object(c.a)({},t.widgets),{},Object(y.a)({},i.id,i))}}))},t.handleDrag=function(e){var i=e.clientX,n=e.clientY;t.setState((function(t){if(!t.dragging||!t.initialX||!t.initialY)return Object(c.a)({},t);var e=Object(c.a)({},t.widgets[t.dragging]);e.x=e.x+i-t.initialX,e.y=e.y+n-t.initialY;var o=Object.values(t.widgets).filter((function(e){return"arrow"===e.type&&(e.start===t.dragging||e.end===t.dragging)})).reduce((function(i,n){var o=n,a=t.widgets[o.start||""],r=o.points[0],h=o.points[1];if(o.end===t.dragging&&("right"===r.type&&(r.x+10<h.x?o.points[1]={type:"left",x:e.x,y:e.y+e.height/2}:r.y+10<h.y?(o.points[0]={type:"bottom",x:a.x+a.width/2,y:a.y+a.height},o.points[1]={type:"top",x:e.x+e.width/2,y:e.y}):(o.points[0]={type:"top",x:a.x+a.width/2,y:a.y},o.points[1]={type:"bottom",x:e.x+e.width/2,y:e.y+e.height})),"left"===r.type&&(r.x-10<h.x?o.points[1]={type:"right",x:e.x+e.width,y:e.y+e.height/2}:r.y+10<h.y?(o.points[0]={type:"bottom",x:a.x+a.width/2,y:a.y+a.height},o.points[1]={type:"top",x:e.x+e.width/2,y:e.y}):(o.points[0]={type:"top",x:a.x+a.width/2,y:a.y},o.points[1]={type:"bottom",x:e.x+e.width/2,y:e.y+e.height})),"bottom"===r.type&&(r.y+10<h.y?o.points[1]={type:"top",x:e.x+e.width/2,y:e.y}:r.x+10<h.x?(o.points[0]={type:"right",x:a.x+a.width,y:a.y+a.height/2},o.points[1]={type:"left",x:e.x,y:e.y+e.height/2}):(o.points[0]={type:"left",x:a.x,y:a.y+a.width/2},o.points[1]={type:"right",x:e.x+e.width,y:e.y+e.height/2})),"top"===r.type&&(r.y-10>h.y?o.points[1]={type:"bottom",x:e.x+e.width/2,y:e.y+e.height}:r.x+10<h.x?(o.points[0]={type:"right",x:a.x+a.width,y:a.y+a.height/2},o.points[1]={type:"left",x:e.x,y:e.y+e.height/2}):(o.points[0]={type:"left",x:a.x,y:a.y+a.width/2},o.points[1]={type:"right",x:e.x+e.width,y:e.y+e.height/2}))),o.start===t.dragging){var p=t.widgets[o.end||""];"right"===r.type&&(r.x+10<h.x?o.points[0]={type:"right",x:e.x+e.width,y:e.y+e.height/2}:r.y+10<h.y?(o.points[0]={type:"bottom",x:e.x+e.width/2,y:e.y+e.height},o.points[1]={type:"top",x:p.x+p.width/2,y:p.y}):(o.points[0]={type:"top",x:e.x+e.width/2,y:e.y},o.points[1]={type:"bottom",x:p.x+p.width/2,y:p.y+p.height})),"left"===r.type&&(r.x-10>h.x?o.points[0]={type:"left",x:e.x,y:e.y+e.height/2}:r.y+10<h.y?(o.points[0]={type:"bottom",x:e.x+e.width/2,y:e.y+e.height},o.points[1]={type:"top",x:p.x+p.width/2,y:p.y}):(o.points[0]={type:"top",x:e.x+e.width/2,y:e.y},o.points[1]={type:"bottom",x:p.x+p.width/2,y:p.y+p.height})),"bottom"===r.type&&(r.y+10<h.y?o.points[0]={type:"bottom",x:e.x+e.width/2,y:e.y+e.height}:r.x+10<h.x?(o.points[0]={type:"right",x:e.x+e.width,y:e.y+e.height/2},o.points[1]={type:"left",x:p.x,y:p.y+p.height/2}):(o.points[0]={type:"left",x:e.x,y:e.y+e.width/2},o.points[1]={type:"right",x:p.x+p.width,y:p.y+p.height/2})),"top"===r.type&&(r.y-10>h.y?o.points[0]={type:"top",x:e.x+e.width/2,y:e.y}:r.x+10<h.x?(o.points[0]={type:"right",x:e.x+e.width,y:e.y+e.height/2},o.points[1]={type:"left",x:p.x,y:p.y+p.height/2}):(o.points[0]={type:"left",x:e.x,y:e.y+e.width/2},o.points[1]={type:"right",x:p.x+p.width,y:p.y+p.height/2}))}return Object(c.a)(Object(c.a)({},i),{},Object(y.a)({},o.id,Object(c.a)({},o)))}),{});return{initialX:i,initialY:n,widgets:Object(c.a)(Object(c.a)({},t.widgets),{},Object(y.a)({},e.id,e),o)}}))},t.handleDragStart=function(e,i){var n=i.clientX,o=i.clientY;0===i.button&&t.setState({dragging:e,initialX:n,initialY:o})},t.handleMouseUp=function(e){t.setState({dragging:null})},t.handleRef=function(e){return t.ref=e},t}return Object(p.a)(i,[{key:"render",value:function(){var t=this,e=this.state,i=e.cursor,n=e.widgets;return o.a.createElement("div",{style:{cursor:i},className:"App",onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleDrag,onMouseUp:this.handleMouseUp,ref:this.handleRef},Object.values(n).map((function(e){return"sticky"===e.type?o.a.createElement(x,{cursor:i,onContextMenu:t.handleContextMenu,onDragStart:t.handleDragStart,widget:e,key:e.id}):"arrow"===e.type?o.a.createElement(w,{widget:e,key:e.id}):null})))}}]),i}(o.a.PureComponent);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(f,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}],[[10,1,2]]]);
//# sourceMappingURL=main.6752d84a.chunk.js.map